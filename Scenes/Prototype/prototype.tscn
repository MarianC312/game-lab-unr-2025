[gd_scene load_steps=18 format=3 uid="uid://cu711dkfvtjjj"]

[ext_resource type="PackedScene" uid="uid://dkp53ary6lvah" path="res://Scenes/Player/Player.tscn" id="2_gae8q"]
[ext_resource type="Texture2D" uid="uid://1s4tbjg4rokb" path="res://Textures/kenney_prototype_textures/dark/texture_07.png" id="2_r77wl"]
[ext_resource type="PackedScene" uid="uid://c7vgf32x0rib1" path="res://Scenes/NPCs/NPC001.tscn" id="4_xjwqy"]
[ext_resource type="PackedScene" uid="uid://b2f3wy4i0beom" path="res://Scenes/Prototype/house01.tscn" id="5_h5wrs"]
[ext_resource type="Resource" uid="uid://dkbmvtfypna2x" path="res://Dialogues/testdiag.dialogue" id="8_ht8ay"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_1e3gs"]
albedo_color = Color(0.7154305, 0.6614255, 0.49204367, 1)
albedo_texture = ExtResource("2_r77wl")

[sub_resource type="BoxMesh" id="BoxMesh_h5wrs"]
size = Vector3(0.7, 0.9, 2.5)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_h5wrs"]
points = PackedVector3Array(0.35, 0.43943197, 1.1544352, -0.35, -0.44477862, -1.2025366, 0.35, -0.42673355, -1.1544352, -0.35, -0.44477862, 1.2025366, -0.34408066, 0.45, -1.1826056, -0.34408066, 0.45, 1.1826056, 0.35, 0.43943197, -1.1544352, 0.35, -0.42673355, 1.1544352)

[sub_resource type="BoxMesh" id="BoxMesh_ee7cb"]
size = Vector3(0.7, 1.85, 0.7)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_p1gw4"]
points = PackedVector3Array(0.35, 0.8899048, 0.35, -0.35, -0.9020952, -0.35, -0.34523812, -0.8899048, 0.35, -0.35, 0.9020952, -0.35, 0.35, -0.8899048, -0.34523812, -0.34523812, 0.8899048, 0.35, 0.35, 0.8899048, -0.34523812, 0.35, -0.8899048, 0.35)

[sub_resource type="BoxMesh" id="BoxMesh_p1gw4"]
size = Vector3(1, 1, 0.75)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_tcv2a"]
points = PackedVector3Array(-0.4974519, -0.4974519, -0.375, 0.5, 0.5, 0.37294248, 0.5, -0.5, 0.37294248, -0.5, 0.5, 0.37294248, 0.4974519, 0.4974519, -0.375, -0.5, -0.5, 0.37294248, -0.4974519, 0.4974519, -0.375, 0.4974519, -0.4974519, -0.375)

[sub_resource type="CylinderMesh" id="CylinderMesh_ax6of"]
top_radius = 0.85
bottom_radius = 0.825
height = 0.083

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_dbpph"]
points = PackedVector3Array(0.1617463, 0.052933875, 0.863323, -0.1617463, 0.052933875, -0.863323, -0.863323, 0.052933875, 0.1617463, -0.5394923, -0.054981496, 0.6743654, 0.8362807, -0.054981496, -0.18878852, -0.6743654, -0.054981496, -0.5394923, 0.863323, 0.052933875, -0.1617463, 0.5394923, -0.054981496, 0.6743654, 0.2966194, -0.054981496, -0.8092385, 0.5394923, 0.052933875, -0.7014076, 0.75532305, 0.052933875, 0.4585347, -0.7014076, 0.052933875, -0.5394923, -0.5394923, 0.052933875, 0.7014076, -0.8362807, -0.054981496, -0.18878852, -0.18878852, -0.054981496, 0.8362807, -0.2966194, -0.054981496, -0.8092385, 0.8092385, -0.054981496, 0.2966194, -0.8092385, -0.054981496, 0.2966194, 0.6743654, -0.054981496, -0.5394923, 0.18878852, -0.054981496, 0.8362807, 0.4585347, 0.052933875, 0.75532305, -0.8362807, 0.052933875, -0.26974615, -0.26974615, 0.052933875, 0.8362807, -0.4585347, 0.052933875, -0.75532305, -0.75532305, 0.052933875, 0.4585347, 0.1617463, 0.052933875, -0.863323, 0.75532305, 0.052933875, -0.4585347, 0.863323, 0.052933875, 0.1617463, 0.18878852, -0.054981496, -0.8362807, -0.5394923, -0.054981496, -0.6743654, -0.6743654, -0.054981496, 0.5394923, 0.6743654, -0.054981496, 0.5394923)

[sub_resource type="Environment" id="Environment_07eqm"]

[sub_resource type="CameraAttributesPractical" id="CameraAttributesPractical_ymsoi"]

[sub_resource type="Compositor" id="Compositor_1e3gs"]

[node name="Prototype" type="Node3D"]
metadata/_edit_group_ = true

[node name="World" type="Node3D" parent="."]

[node name="Floor" type="CSGBox3D" parent="World"]
transform = Transform3D(0.6325111, 0, 0, 0, 1, 0, 0, 0, 0.56116724, 0.2775482, 0.625401, -2.549042)
use_collision = true
size = Vector3(100, 0.2, 100)
material = SubResource("StandardMaterial3D_1e3gs")

[node name="Objects" type="Node3D" parent="World"]
transform = Transform3D(0.70710677, 0, 0.70710677, 0, 1, 0, -0.70710677, 0, 0.70710677, 0, 0, 0)

[node name="Trees" type="Node3D" parent="World/Objects"]

[node name="House" parent="World/Objects" instance=ExtResource("5_h5wrs")]
transform = Transform3D(0.70710677, 0, -0.70710677, 0, 1, 0, 0.70710677, 0, 0.70710677, -6.0637918, 0, -4.5410886)

[node name="NPCs" type="Node3D" parent="World/Objects/House"]

[node name="NPC1" parent="World/Objects/House/NPCs" instance=ExtResource("4_xjwqy")]
transform = Transform3D(-0.70957094, 0, 0.70463425, 0, 1, 0, -0.70463425, 0, -0.70957094, 5.742613, 0.85, -4.4656124)
npc_name = "Carrrrlos"
dialogue = ExtResource("8_ht8ay")

[node name="NPC2" parent="World/Objects/House/NPCs" instance=ExtResource("4_xjwqy")]
transform = Transform3D(-0.98927265, 0, -0.14608316, 0, 1, 0, 0.14608316, 0, -0.98927265, -5.9123297, 0.85, -0.104599714)
npc_name = "Esteban Quito"

[node name="Muebles" type="Node3D" parent="World/Objects/House"]

[node name="Mesada" type="MeshInstance3D" parent="World/Objects/House/Muebles"]
transform = Transform3D(0.99999946, 0, 0, 0, 1, 0, 0, 0, 1.0903957, -6.8623276, 1.2903969, 4.435755)
mesh = SubResource("BoxMesh_h5wrs")

[node name="StaticBody3D" type="StaticBody3D" parent="World/Objects/House/Muebles/Mesada"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="World/Objects/House/Muebles/Mesada/StaticBody3D"]
shape = SubResource("ConvexPolygonShape3D_h5wrs")

[node name="MeshInstance3D" type="MeshInstance3D" parent="World/Objects/House/Muebles"]
transform = Transform3D(0.99999964, 0, 0, 0, 1, 0, 0, 0, 0.99999964, -6.850357, 1.7668175, 2.6735432)
mesh = SubResource("BoxMesh_ee7cb")

[node name="StaticBody3D" type="StaticBody3D" parent="World/Objects/House/Muebles/MeshInstance3D"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="World/Objects/House/Muebles/MeshInstance3D/StaticBody3D"]
shape = SubResource("ConvexPolygonShape3D_p1gw4")

[node name="MeshInstance3D2" type="MeshInstance3D" parent="World/Objects/House/Muebles"]
transform = Transform3D(0.9999995, 0, 0, 0, 1, 0, 0, 0, 0.9999995, -3.170086, 1.33645, 5.3795986)
mesh = SubResource("BoxMesh_p1gw4")

[node name="StaticBody3D" type="StaticBody3D" parent="World/Objects/House/Muebles/MeshInstance3D2"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="World/Objects/House/Muebles/MeshInstance3D2/StaticBody3D"]
shape = SubResource("ConvexPolygonShape3D_tcv2a")

[node name="MeshInstance3D3" type="MeshInstance3D" parent="World/Objects/House/Muebles"]
transform = Transform3D(0.99999976, 0, 0, 0, 1, 0, 0, 0, 0.99999976, 0, 2, 2.726)
mesh = SubResource("CylinderMesh_ax6of")

[node name="StaticBody3D" type="StaticBody3D" parent="World/Objects/House/Muebles/MeshInstance3D3"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="World/Objects/House/Muebles/MeshInstance3D3/StaticBody3D"]
shape = SubResource("ConvexPolygonShape3D_dbpph")

[node name="Lights" type="Node3D" parent="World/Objects/House"]

[node name="Light01" type="SpotLight3D" parent="World/Objects/House/Lights"]
transform = Transform3D(1, 0, 0, 0, -4.3711395e-08, 1, 0, -1, -4.3711395e-08, 4.3528786, 3.5280435, 2.9154847)
light_color = Color(1, 1, 0.8235294, 1)
shadow_enabled = true
spot_range = 9.0
spot_angle = 69.75

[node name="Light02" type="SpotLight3D" parent="World/Objects/House/Lights"]
transform = Transform3D(1, 0, 0, 0, -4.3711402e-08, 1, 0, -1, -4.3711402e-08, 0.0048093796, 3.5280435, 2.9154842)
light_color = Color(1, 1, 0.8235294, 1)
shadow_enabled = true
spot_range = 9.0
spot_angle = 69.75

[node name="Light03" type="SpotLight3D" parent="World/Objects/House/Lights"]
transform = Transform3D(1, 0, 0, 0, -4.3711406e-08, 1, 0, -1, -4.3711406e-08, -5.8708744, 3.5280435, 2.915484)
light_color = Color(1, 1, 0.8235294, 1)
shadow_enabled = true
spot_range = 9.0
spot_angle = 69.75

[node name="Light04" type="SpotLight3D" parent="World/Objects/House/Lights"]
transform = Transform3D(1, 0, 0, 0, -4.3711417e-08, 1, 0, -1, -4.3711417e-08, -3.8638077, 3.5280435, -3.1503236)
light_color = Color(1, 1, 0.8235294, 1)
shadow_enabled = true
spot_range = 9.0
spot_angle = 69.75

[node name="Light05" type="SpotLight3D" parent="World/Objects/House/Lights"]
transform = Transform3D(1, 0, 0, 0, -4.371142e-08, 1, 0, -1, -4.371142e-08, 0.9009018, 3.5280435, -3.1503234)
light_color = Color(1, 1, 0.8235294, 1)
shadow_enabled = true
spot_range = 9.0
spot_angle = 69.75

[node name="Light06" type="SpotLight3D" parent="World/Objects/House/Lights"]
transform = Transform3D(1, 0, 0, 0, -4.3711424e-08, 1, 0, -1, -4.3711424e-08, 4.9313583, 3.5280435, -3.1503232)
light_color = Color(1, 1, 0.8235294, 1)
shadow_enabled = true
spot_range = 9.0
spot_angle = 69.75

[node name="Light07" type="SpotLight3D" parent="World/Objects/House/Lights"]
transform = Transform3D(0.87665117, 2.1030738e-08, -0.48112655, 0.48112655, -3.831969e-08, 0.8766512, 0, -1, -4.371145e-08, 7.6524534, 3.0982928, 1.248502)
light_color = Color(1, 1, 0.8235294, 1)
shadow_enabled = true
spot_range = 9.0
spot_angle = 69.75

[node name="Player" parent="World" instance=ExtResource("2_gae8q")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.8177248, 1.048006, 3.2938852)

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_07eqm")
camera_attributes = SubResource("CameraAttributesPractical_ymsoi")
compositor = SubResource("Compositor_1e3gs")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="WorldEnvironment"]
transform = Transform3D(0.85431373, 0, 0.51975775, -0.5048323, -0.23792318, 0.8297813, 0.1236624, -0.97128403, -0.20326105, 6.323311, 16.586319, -7.3127584)
visible = false
shadow_enabled = true
